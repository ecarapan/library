(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=i(e);fetch(e.href,n)}})();class u{constructor(t,i){this.id=crypto.randomUUID(),this.title=t,this.pageNum=i,this.isRead=!1}toggleRead(){this.isRead=!this.isRead}}class m{constructor(){this.books=[]}addBook(t,i){const r=new u(t,i);this.books.push(r)}deleteBook(t){this.books=this.books.filter(i=>i.id!==t)}}function f(o){const t=document.createElement("div");return t.classList.add("book"),o.isRead&&t.classList.add("read"),t.innerHTML=`
        <div>
          <h3 class="title">${o.title}</h3>
          <button type="button" data-id="${o.id}" class="read-button">Mark as Read</button>
        </div>
        <div>
          <p>${o.pageNum} pgs.</p>
          <button type="button" data-id="${o.id}" class="delete-button">del</button>
        </div>
    `,t}function d(o){const t=document.getElementById("library");t.innerHTML="",o.books.forEach(i=>{const r=f(i);t.appendChild(r)})}function b(o){const t=document.getElementById("add-book-btn"),i=document.getElementById("book-dialog"),r=document.getElementById("cancel-btn"),e=document.getElementById("book-form");t.addEventListener("click",()=>{i.showModal()}),r.addEventListener("click",()=>{i.close()}),e.addEventListener("submit",()=>{const n=document.getElementById("book-title"),s=document.getElementById("book-page-count");if(n.setCustomValidity(""),s.setCustomValidity(""),n.validity.valueMissing){n.setCustomValidity("A title must be entered!"),n.reportValidity(),event.preventDefault();return}if(s.validity.valueMissing){s.setCustomValidity("Please enter how many pages the book has!"),s.reportValidity(),event.preventDefault();return}if(s.validity.rangeOverflow){s.setCustomValidity(`Page count canâ€™t be more than ${s.max}.`),s.reportValidity(),event.preventDefault();return}const c=n.value,l=s.value;o.addBook(c,l),d(o)})}function g(o){document.getElementById("library").addEventListener("click",t=>{if(t.target.classList.contains("read-button")){const i=t.target.dataset.id,r=o.books.find(e=>e.id===i);r&&(r.toggleRead(),d(o))}if(t.target.classList.contains("delete-button")){const i=t.target.dataset.id;o.deleteBook(i),d(o)}})}const a=new m;d(a);b(a);g(a);
